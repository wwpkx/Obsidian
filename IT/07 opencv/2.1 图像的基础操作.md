图像IO操作的API：
- cv.imread(): 读取图像
- cv.imshow()：显示图像
- cv.imwrite(): 保存图像

在图像上绘制几何图像
- cv.line(): 绘制直线
- cv.circle(): 绘制圆形
- cv.rectangle(): 绘制矩形
- cv.putText(): 在图像上添加文字

直接使用行列索引获取图像中的像素并进行修改  

图像的属性
![](../photo/Pasted%20image%2020240119105626.png)

通道
- 拆分通道：cv.split()
- 通道合并：cv.merge()

色彩空间的改变
- cv.cvtColor(input_image，flag)

# 图像的IO操作

## 读取图像
```
cv.imread()
参数：
- 要读取的图像
- 读取方式的标志
	- 1/cv.IMREAD*COLOR：以彩色模式加载图像，任何图像的透明度都将被忽略。默认参数。
	- 0/cv.IMREAD*GRAYSCALE：以灰度模式加载图像
	- -1/cv.IMREAD_UNCHANGED：包括alpha通道的加载图像模式。
```

参考代码
```
import numpy as np
import cv2 as cv

# 以灰度图的形式读取图像
img = cv.imread('messi5.jpg', 0)
```
    

**注意：如果加载的路径有错误，不会报错，会返回一个None值**

## 1.2显示图像

1 . API

```
cv.imshow()
```

参数：

- 显示图像的窗口名称，以字符串类型表示
- 要加载的图像

**注意：在调用显示图像的API后，要调用cv.waitKey()给图像绘制留下时间，否则窗口会出现无响应情况，并且图像无法显示出来**。

另外我们也可使用matplotlib对图像进行展示。

1. 参考代码
    
    ```
    # opencv中显示
    cv.imshow('image',img)
    cv.waitKey(0)
    # matplotlib中展示
    plt.imshow(img[:,:,::-1])
    ```
    

## 1.3 保存图像

1. API
    
    ```
    cv.imwrite()
    ```
    
    参数：
    
    - 文件名，要保存在哪里
    - 要保存的图像
2. 参考代码
    
    ```
    cv.imwrite('messigray.png',img)
    ```
    
    ## 1.4 总结
    
    我们通过加载灰度图像，显示图像，如果按's'并退出则保存图像，或者按ESC键直接退出而不保存。
    
    ```
    import numpy as np
    import cv2 as cv
    import matplotlib.pyplot as plt
    # 1 读取图像
    img = cv.imread('messi5.jpg',0)
    # 2 显示图像
    # 2.1 利用opencv展示图像
    cv.imshow('image',img)
    # 2.2 在matplotplotlib中展示图像
    plt.imshow(img[:,:,::-1])
    plt.title('匹配结果'), plt.xticks([]), plt.yticks([])
    plt.show()
    k = cv.waitKey(0)
    # 3 保存图像
    cv.imwrite('messigray.png',img)
    ```