# 传输层
-   传输层提供**端到端**的连接（会话之间，根据端口号可以区分不同的应用协议）
-   网络层提供**点到点**的连接（节点之间）

# 端口
- **端口对应了一种应用协议**，真正提供服务的是服务器
- 0~1023 属于公认端口/知名端口（给一些重要的协议使用的端口）
- 服务器（source port 0~49152）
- 客户端（source port 49152~65535）

# TCP与UDP
| TCP                                  | UDP                            |
|--------------------------------------|--------------------------------|
| Transmission control protocol 传输控制协议 | User datagram protocol 用户数据报协议 |
| **可靠**的、**面向连接**的协议                          | 不可靠、无连接的服务                     |
| 传输**效率低**，类似于打电话                         | 传输效率高，类似于群聊                    |
| 在通信前需要建立关系来确认之间状态                    | 在通信前不需要建立关系来确认之间的状态            |
| 支持流控及**窗口**机制                            | 无流控及窗口机制                       |
| 支持**点对点**通信                              | 支持任意通信方式（点对点，点对多点）             |
| 多用于注重**数据的完整性**                          | 不要求数据的完整性，开销小                  |

![](../../../photo/Pasted%20image%2020221003175439.png)
![](../../../photo/Pasted%20image%2020221003212033.png)
![](../../../photo/Pasted%20image%2020221003175447.png)
![](../../../photo/Pasted%20image%2020221003175453.png)

# TCP
## TCP会话的确认
- 对每个数据包都会**进行确认**（影响资源的消耗，推出**滑动窗口机制**，**只对部分进行确认**）
![](../../../photo/Pasted%20image%2020221003200140.png)

## TCP会话的拥塞和流量控制，SYN/ACK win/syn/ack
![](../../../photo/Pasted%20image%2020221003202830.png)

## TCP会话的建立-三次握手 SYN/ACK
- 涉及标志位**SYN,ACK**
![](../../../photo/Pasted%20image%2020221003195746.png)
![](../../../photo/Pasted%20image%2020221003195754.png)
![](../../../photo/Pasted%20image%2020221003195858.png)
![](../../../photo/Pasted%20image%2020221003195910.png)
![](../../../photo/Pasted%20image%2020221003195954.png)

## TCP会话的结束-四次挥手 SYN/ACK/FIN
![](../../../photo/Pasted%20image%2020221003222810.png)
![](../../../photo/Pasted%20image%2020221003203817.png)

## 网络中最霸道的攻击 DDos
![](../../../photo/Pasted%20image%2020221003205053.png)
![](../../../photo/Pasted%20image%2020221003205059.png)
