# 网络模型

![](../photo/Pasted%20image%2020220928095209.png)
| tcp/ip 四层模型 | PDU       | OSI七层模型 | 功能               | 设备               | 对应TCP/IP协议                                                                                                                                                                 |
| --------------- | --------- | ----------- | ------------------ | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 应用层          | data      | 应用层      | 应用程序接口       | 网关               | [远程访问](协议/应用层/远程访问.md) Telnet ssh<br/>[邮箱](协议/应用层/邮箱.md) POP3/IMAP SMTP<br/>[文件传输](协议/应用层/文件传输.md) TFTP/FTP<br/> [http](协议/应用层/http.md)<br/>[DNS](协议/应用层/DNS.md)<br/>SNMP |
|                 |           | 表示层      | 数据格式化，加解密 | 网关               | 没有协议                                                                                                                                                                       |
|                 |           | 会话层      | 管理会话           | 网关               | 没有协议                                                                                                                                                                       |
| 传输层          | 段segment | [传输层](协议/传输层/传输层.md)      | **端到端的连接（会话之间）** | 网关               | TCP，UDP                                                                                                                                                                       |
| 网络层          | 包packet  | [网络层](协议/网络层/网络层.md)      | **点到点的连接（节点之间）**<br/>ip寻址，路由选择   | 路由器             | [ICMP](协议/网络层/ICMP.md) IP，RIP，OSPF，BGP，IGMP                                                                                                                                                 |
| 网络接口层      | 帧frame   | 数据链路层  | 接入介质           | **交换机**、网桥   | [ARP](协议/数据链路层/ARP.md) ARP，RARP<br/>SLIP，CSLIP，PPP，MTU                                                                                                                                               |
|                 | 比特bit   | 物理层      | 二进制传输         | **集线器**、中继器 | ISO2110, IEEE802, IEEE802.2                                                                                                                                                    |

![](../photo/Pasted%20image%2020221027174603.png)
![](../photo/Pasted%20image%2020221027180012.png)
  
# 数据链路层分层
- 逻辑链接控制(Logical Link Control,LLC)子层，**则完全独立出来，为高层提供服务**
- 媒体访问控制(Medium Access Control,MAC)子层，**与物理层相关联**

# PDU（protocol data unit 协议数据单元）
- OSI把每一层数据称为**PDU（protocol data unit 协议数据单元）**
- TCP/IP根据不同层分别使用**段segment、包packet、帧frame、比特bit**
- 发送者**逐层向下**传递数据，并添加报头和报尾的过程称为**封装（打包）**
- 反之，接收者逐层向上传递数据，称为**解封装（拆包）**

# 路由器和交换机的区别
- 路由器是基于 IP 设计的， 而交换机是基于以太网设计的
- **交换机**是通过 MAC 头部中的接收方 **MAC 地址**来判断转发目标的， 而**路由器**则是根据 IP 头部中的 **IP 地址**来判断的。
- 路由器包括 **转发模块（判断包的转发目的地）** 和 **端口模块（包的收发）**
- 路由器的各个端口都具有 MAC 地址和 IP 地址
- 端口是按照以太网规范接收包的，即当端口的 MAC 地址和包的接收方 MAC 地址一致时，端口才接受这个包，否则就丢弃包。

# 单播、组播、广播
## 根据目标地址判断
- 单播Unicast， 发送给单个设备（明确目标地址）
- 广播Broadcast， 发送给所属广播域内的所有设备（目标地址不明确）
	- MAC地址全F，IP地址全1
- 组播Multicast， 发送给一组目标 #组播 
	- MAC地址为01-00-5e，IP地址为D类

## 接收规则
-   如果是单播帧，会比较目的MAC是否一致
-   如果是广播帧，会接收处理 （收到了不一定会回复）
-   组播只发给需要的设备 #组播 

## 冲突与广播
- 冲突Collision
	- 多个设备如果连接都一个传输信道上，发生的冲撞会导致信号不完整
	- 只会发生在早期使用使用集线器组网的共享式网络中
- 冲突域 Collision domain
	- 能够产生冲突的设备的范围

- 广播 Broadcast
	- 发送给所有设备
- 广播域 Broadcast domain
	- 能够收到广播的设备的范围

- 集线器HUB
	- 不能分割冲突域和广播域 （所有接口都属于一个冲突域和广播域）
- 交换机Switch
	- 能够分割冲突域**不能分割广播域**（**每个接口都是单独的冲突域**）
- 路由器Router
	- 能够分割冲突域和广播域（每个接口都是一个广播域）

![](../photo/Pasted%20image%2020221101102737.png)

# ipv6
- ipv4, 2^4, 32bit
- ipv6, 2^6, 128bit

# 套接字
![](../photo/Pasted%20image%2020221027174057.png)

