**总结：RPC 主要用于公司内部的服务调用，性能消耗低，传输效率高，实现复杂**

# RPC 和 Restful API
- **RPC 更侧重于动作。Restful 的主体是资源**
    - **RESTful 是面向资源的设计架构**，比如**很多对象不能抽象成资源，比如登录，修改密码**
    - RPC 可以通过动作去操作资源，操作的全面性上 RPC 大于 RESTful
- 传输效率：RPC效率更高
    - 使用 TCP协议 或 HTTP2协议
- 复杂度：RPC实现复杂
    - RPC 实现复杂，需要实现编码，序列化，网络传输等
    - RESTful 不要关注这些，调用及测试都很方便。 
- 灵活性：HTTP更灵活
    - HTTP 相对更规范，更标准，更通用，无论哪种语言都支持 HTTP 协议。
    - RPC 可以实现跨语言调用，但整体灵活性不如 RESTful。
    
# RPC 使用场景
- 长链接。不必每次通信都要像 HTTP 一样去 3 次握手，减少了网络开销。
- 注册发布机制。
- 安全性，没有暴露资源操作。
- 微服务支持。就是最近流行的服务化架构、服务化治理，RPC 框架是一个强力的支撑。

# RPC 框架主要由三部分构成
- 注册中心，服务端在启动后，会将它提供的服务列表发布到注册中心；客户端向注册中心订阅服务地址。
- 客户端：通过本地代理模块 Proxy 调用服务端，Proxy 模块收到负责将方法、参数等数据编码转化成网络字节流；从服务列表中选取其中一个的服务地址，并将数据通过网络发送给服务端
- 服务端：接收到数据进行解码，得到请求信息；根据解码后的请求信息调用对应的服务，然后将调用结果返回给客户端；服务端和客户端的编解码是逆向的。

