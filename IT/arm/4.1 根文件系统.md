![](../photo/Pasted%20image%2020230502162957.png)

![](../photo/Pasted%20image%2020230502162930.png)
# 建立根文件系统
- 配置文件![](../photo/etc.zip)
```
创建目录
#mkdir rootfs 
#cd rootfs
#mkdir bin dev etc lib proc sbin sys usr mnt tmp var
#mkdir usr/bin usr/lib usr/sbin lib/modules

创建设备文件
#cd rootfs/dev
#mknod -m 666 console c 5 1
#mknod -m 666 null c 1 3

加入配置文件![](../photo/etc.zip)
#tar etc.tar.gz
#mv etc/* …/root/etc/ -rf
etc
│  fstab
│  inittab
│  profile
└─init.d
	rcS

添加内核模块(*.ko)
#cd …/linux
#make modules ARCH=arm CROSS_COMPILE=arm-linux-
#make modules_install ARCH=arm INSTALL_MOD_PATH=…/rootfs

编译/安装busybox（添加各种命令）
1.配置busybox
#make menuconfig 
2. 编译、安装busybox
#make
#make install
```
![](../photo/Pasted%20image%2020230502163534.png)

# 挂载根文件系统

## 使用Initramfs
```
1. #cd …/rootfs/
   #ln –s ./bin/busybox init   
2. 配置Linux内核，支持initramfs
3. 编译内核
4. setenv bootargs noinitrd console=ttySAC0,115200 
```

## 使用NFS