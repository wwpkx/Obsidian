![](../photo/07_文件系统.png)
# 文件系统
ext2
- 1993年发布
- 最大支持16TB的分区
- 最大2TB的文件

ext3：
- 和ext2最大的区别就是带日志功能
- 支持最大16TB的分区和最大2TB的文件

ext4：
- 在性能、伸缩性和可靠性方面进行了大量改进
- 变化可以说是翻天覆地的
	- 比如向下兼容EXT3
	- 最大1EB文件系统和16TB文件（1EB=1024PB=1024*1024TB）
	- 无限数量子目录
	- Extents连续数据块概念
	- 多块分配
	- 延迟分配
	- 持久预分配
	- 快速FSCK
	- 日志校验
	- 无日志模式
	- 在线碎片整理
	- inode增强
	- 默认启用barrier

# 查询与自动挂载
```
mount [-l]
#查询系统中已经挂载的设备，-l会显示卷标名称

mount –a
#依据配置文件/etc/fstab的内容，自动挂载
```

# 挂载
```
mount [-t 文件系统] [-L 卷标名] [-o 特殊选项] 设备文件名 挂载点
选项：
-t 文件系统：加入文件系统类型来指定挂载的类型，可以ext3、ext4 、iso9660等文件系统
-L 卷标名： 挂载指定卷标的分区，而不是安装设备文件名挂载
-o 特殊选项：可以指定挂载的额外选项

1、挂载光盘
mkdir /mnt/cdrom/
#建立挂载点
mount -t iso9660 /dev/cdrom /mnt/cdrom/
mount /dev/sr0 /mnt/cdrom/

2、卸载命令
umount 设备文件名或挂载点
umount /mnt/cdrom

3、挂载U盘
fdisk –l
#查看U盘设备文件名
mount -t vfat /dev/sdb1 /mnt/usb/   #注意：Linux默认是不支持NTFS文件系统的
```

# 支持NTFS文件系统
```
1、下载NTFS-3G插件
http://www.tuxera.com/community/ntfs-3g-download/

2、安装NTFS-3G
[root@localhost ~]# tar -zxvf ntfs-3g_ntfsprogs-2013.1.13.tgz
[root@localhost ~]# cd ntfs-3g_ntfsprogs-2013.1.13
[root@localhost ntfs-3g_ntfsprogs-2013.1.13]# ./configure
[root@localhost ntfs-3g_ntfsprogs-2013.1.13]# make
[root@localhost ntfs-3g_ntfsprogs-2013.1.13]# make install

3、使用
[root@localhost ~]# mount -t ntfs-3g 分区设备文件名 挂载点
```

# df（disk free）
- 显示磁盘分区上可以使用的磁盘空间
	- -a    // 查看全部文件系统，单位默认KB
	- -h    // 使用-h选项以KB、MB、GB的单位来显示，可读性高

# du (disk usage)
- 显示每个文件和目录的大小
	- -h  // 以K  M  G为单位显示，提高可读性
	- --max-depth=1  // 显示层级

# dumpe2fs
- 读取文件系统的信息